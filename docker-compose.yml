version: '3.8'

services:
  session-closer-mcp:
    build:
      context: .
      dockerfile: Dockerfile
    image: session-closer-mcp:latest
    container_name: session-closer-mcp
    stdin_open: true
    tty: true
    volumes:
      # Mount workspace directory
      - ${CURSOR_WORKSPACE:-./workspace}:/workspace:rw
      # Mount git config if needed
      - ${HOME}/.gitconfig:/root/.gitconfig:ro
    environment:
      - NODE_ENV=production
      - CURSOR_WORKSPACE=/workspace
    # MCP uses stdio, so we don't need ports
    # But keeping this for reference
    # ports:
    #   - "8080:8080"
    restart: unless-stopped
